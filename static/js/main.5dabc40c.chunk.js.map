{"version":3,"sources":["components/Header/logo.png","components/Header/index.js","components/Login/index.js","comtainers/List/index.js","comtainers/Detail/index.js","comtainers/Vip/index.js","index.js"],"names":["AppHeader","props","state","list","this","map","item","Item","to","id","type","icon","title","axios","get","then","res","setState","data","src","logo","className","alt","mode","getMenuItems","Component","Login","login","modal","user","password","showModal","bind","hideModal","changeUser","changePassword","checkLogin","logout","e","target","value","url","withCredentials","message","success","error","history","push","onClick","style","marginLeft","visible","onOk","onCancel","placeholder","marginBottom","onChange","withRouter","PageList","nextProps","match","params","background","size","bordered","dataSource","renderItem","Detail","content","dangerouslySetInnerHTML","__html","console","log","Vip","fetchFinish","Header","Layout","Footer","Content","App","minWidth","height","path","component","ContentList","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5dabc40c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.31e4f528.png\";","import React, { Component, Fragment } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { Menu } from 'antd';\r\nimport axios from 'axios';\r\nimport { Icon } from '@ant-design/compatible';\r\nimport logo from './logo.png'\r\nimport './style.css'\r\n\r\n//antd使用 iconfont.cn 的用户\r\n//import { createFromIconfontCN } from '@ant-design/icons';\r\n// const IconFont = createFromIconfontCN({\r\n//   scriptUrl: '//at.alicdn.com/t/font_2334570_xec0pjm3as.js',\r\n// });\r\nclass AppHeader extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      list: []\r\n    }\r\n\r\n  }\r\n\r\n//列表循环方法\r\n  getMenuItems() {\r\n    return  this.state.list.map(item => {\r\n      return ( \r\n        <Menu.Item key={item.id} >\r\n          <Link to={`/${item.id}`}>\r\n            <Icon type={item.icon} />\r\n            {item.title}\r\n          </Link>\r\n        </Menu.Item> \r\n      )\r\n    })\r\n  }\r\n\r\n//发送ajax数据接口，并接受数据  \r\n  componentDidMount() {\r\n    axios.get('http://www.dell-lee.com/react/api/header.json')\r\n      .then((res) => {\r\n        this.setState({\r\n          list: res.data.data\r\n        })\r\n      })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <Fragment>\r\n          <Link to='/'>\r\n            <img src={logo} className=\"app-header-logo\" alt='log'/>\r\n          </Link>\r\n          <Menu mode=\"horizontal\" className=\"app-header-menu\">\r\n          { this.getMenuItems()}\r\n          </Menu>\r\n        </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppHeader;\r\n","import React, { Component,Fragment } from 'react';\r\nimport axios from 'axios';\r\nimport { Button, Modal, Input, message } from 'antd';\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport './style.css'\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      login: false,\r\n      modal: false,\r\n      user: '',\r\n      password: ''\r\n    }\r\n//绑定作用域\r\n    this.showModal = this.showModal.bind(this);\r\n    this.hideModal = this.hideModal.bind(this);\r\n    this.changeUser = this.changeUser.bind(this);\r\n    this.changePassword = this.changePassword.bind(this);\r\n    this.checkLogin = this.checkLogin.bind(this);\r\n    this.logout = this.logout.bind(this);\r\n\r\n\r\n\r\n    \r\n  }\r\n  showModal() {\r\n    this.setState({\r\n      modal: true\r\n    })\r\n  }\r\n  hideModal() {\r\n    this.setState({\r\n      modal: false\r\n    })\r\n  }\r\n  changeUser(e) {\r\n    this.setState({\r\n      user: e.target.value\r\n    })\r\n  }\r\n  changePassword(e) {\r\n    this.setState({\r\n      password: e.target.value\r\n    })\r\n  }\r\n  checkLogin() {\r\n    const { user, password} = this.state;\r\n    const url = `http://www.dell-lee.com/react/api/login.json?user=${user}&password=${password}`;\r\n    axios.get(url, {withCredentials: true}).then( res => {\r\n      const login = res.data.data.login;\r\n      if(login){\r\n        message.success('登录成功');\r\n          this.setState({\r\n            login: true,\r\n            modal: false\r\n          })\r\n      }else{\r\n        message.error('登录失败')\r\n      }\r\n    })\r\n    \r\n  }\r\n\r\n  logout() {\r\n    axios.get('http://www.dell-lee.com/react/api/logout.json' ,{withCredentials: true})\r\n        .then( res => {\r\n          const data = res.data.data;\r\n          if(data.logout) {\r\n            this.setState({login: false});\r\n          }\r\n// 调用路由，需要使用withRouter 方法\r\n//退出后默认返回到首页\r\n          this.props.history.push('/');\r\n        })\r\n  }\r\n    \r\n    render() {\r\n        const { login } = this.state;\r\n        return (\r\n          <Fragment>\r\n            <div className='login'>\r\n              {\r\n                login ?\r\n                <Button \r\n                  type=\"primary\"\r\n                  onClick={this.logout}\r\n                >退出</Button> :\r\n                <Button \r\n                  type=\"primary\"\r\n                  onClick={this.showModal} >登录</Button>\r\n              }\r\n              <Link to='/vip'>\r\n                <Button \r\n                    type=\"primary\"\r\n                    style={{marginLeft: 10}}\r\n\r\n                    >Vip</Button>\r\n              </Link>\r\n              <Modal \r\n                title=\"登录\" \r\n                visible={this.state.modal} \r\n                onOk={this.checkLogin} \r\n                onCancel={this.hideModal}\r\n              >\r\n                <Input  \r\n                  placeholder=\"请输入用户名\" \r\n                  style={{ marginBottom: 10 }}\r\n                  value={this.state.user}\r\n                  onChange={this.changeUser}\r\n                />\r\n                <Input\r\n                  type=\"password\"  \r\n                  placeholder=\"请输入密码\"\r\n                  value={this.state.password}\r\n                  onChange={this.changePassword}\r\n                />\r\n\r\n              </Modal>\r\n            </div>\r\n          </Fragment>\r\n        )\r\n    }\r\n    componentDidMount () {\r\n      axios.get('http://www.dell-lee.com/react/api/isLogin.json' ,{withCredentials: true})\r\n        .then( res => {\r\n          const login = res.data.data.login;\r\n          this.setState({ login })\r\n        })\r\n    }\r\n}\r\n\r\nexport default withRouter(Login);","import React, { Component } from 'react';\r\nimport { List,  } from 'antd';\r\nimport axios from 'axios';\r\nimport { Link } from \"react-router-dom\";\r\nclass PageList extends Component {\r\n    //你也可以在 componentDidUpdate() 中直接调用 setState()，但请注意它必须被包裹在一个条件语句里，否则会导致死循环。它还会导致额外的重新渲染，虽然用户不可见，但会影响组件性能\r\n    // componentDidUpdate(prevProps) {\r\n    //     const id = prevProps.match.params.id;\r\n    //     axios.get('http://www.dell-lee.com/react/api/list.json?id=' + id)\r\n    //         .then(res => {\r\n    //             if (id){\r\n    //             this.setState({\r\n    //                 data: res.data.data\r\n    //             })\r\n    //         }\r\n    //         })\r\n    //   }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        const id = nextProps.match.params.id;\r\n        axios.get('http://www.dell-lee.com/react/api/list.json?id=' + id)\r\n            .then(res => {\r\n                this.setState({\r\n                    data: res.data.data\r\n                })\r\n            })\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: []\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <List\r\n                style={{background: '#fff'}}\r\n                size=\"large\"\r\n                bordered\r\n                dataSource={this.state.data}\r\n                renderItem={item => (\r\n                    <List.Item>\r\n                        <Link to={`/detail/${item.id}`}>{item.title}</Link>\r\n                    </List.Item>\r\n                )}\r\n            />\r\n        )\r\n    }\r\n    \r\n//生命周期componentDidMount，只会在页面第一次刷新才会挂载\r\n    componentDidMount() {\r\n        const id = this.props.match.params.id;\r\n        let url = 'http://www.dell-lee.com/react/api/list.json';\r\n        if (id){\r\n            url = url + '?id=' + id;\r\n        }\r\n        axios.get(url)\r\n            .then(res => {\r\n                this.setState({\r\n                    data: res.data.data\r\n                })\r\n            })\r\n    }\r\n}\r\n\r\nexport default PageList;","import React, { Component,Fragment } from 'react';\r\nimport { Card } from 'antd';\r\nimport axios from 'axios';\r\nimport './style.css'\r\nclass Detail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title:'title',\r\n            content: 'content'\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n          <Fragment>\r\n            <Card title={this.state.title} >\r\n                <div className=\"detail\" dangerouslySetInnerHTML={{__html: this.state.content}}></div>\r\n            </Card>\r\n          </Fragment>\r\n        )\r\n    }\r\n\r\n    componentDidMount() {\r\n        const id = this.props.match.params.id;\r\n        axios.get('http://www.dell-lee.com/react/api/detail.json?id=' + id)\r\n            .then( (res) => {\r\n              const data = res.data.data;\r\n              console.log(data);\r\n              this.setState(data)\r\n            })\r\n    }\r\n}\r\n\r\nexport default Detail;","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport './style.css'\r\nclass Vip extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            login: true,\r\n            fetchFinish: false\r\n        }\r\n    }\r\n    render() {\r\n        if(this.state.login) {\r\n            if(this.state.fetchFinish){\r\n                return ( <div className=\"vip\">1111</div> )\r\n            }else{\r\n                return <div className='vip'>请先登录...</div>\r\n            }\r\n            \r\n        }else {\r\n            return <Redirect to='/' />\r\n        }\r\n        \r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('http://www.dell-lee.com/react/api/isLogin.json' ,{withCredentials: true})\r\n        .then( res => {\r\n          const login = res.data.data.login;\r\n          this.setState({ login, fetchFinish: true })\r\n        })\r\n    }\r\n}\r\n\r\nexport default Vip;","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport { Layout } from 'antd';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport AppHeader from './components/Header/index';\nimport Login from './components/Login/index';\nimport ContentList from \"./comtainers/List/\";\nimport Detail from \"./comtainers/Detail\";\nimport Vip from \"./comtainers/Vip\";\n\nimport './style.css'\n\nconst { Header, Footer, Content } = Layout;\n\nclass App extends Component {\n  \n  render() {\n    return (\n/**路由 BrowserRouter */\n      <BrowserRouter>\n        <Layout style={{minWidth: 1300, height: '100%'}}>\n          <Header className=\"header\">\n            <AppHeader/>\n          </Header>\n\n          <Content className=\"content\">\n  {/**Switch  路由匹配到一个就返回，跟路径写在下面，层级查找 */}\n              <Login/>\n              <Switch>\n              <Route path='/Vip' component={Vip} />\n                <Route path='/detail/:id' component={Detail} />\n                <Route path='/:id?' component={ContentList} />\n              </Switch>\n          </Content>\n\n          <Footer className=\"footer\">\n            Copyright © 2021 imooc.com All Rights Reserved | 京ICP备 12003892号-11\n          </Footer>\n        </Layout>\n      </BrowserRouter>\n    )\n  }\n};\n\nReactDOM.render(<App/>, document.getElementById('root'));\n"],"sourceRoot":""}