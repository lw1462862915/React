(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{171:function(t,e,a){},177:function(t,e,a){},186:function(t,e,a){},187:function(t,e,a){},188:function(t,e,a){},189:function(t,e,a){"use strict";a.r(e);var n=a(13),i=a(37),c=a(33),s=a(39),o=a(38),r=a(0),l=a(21),d=a.n(l),h=(a(153),a(195)),u=a(46),j=a(22),b=a(199),p=a(34),m=a.n(p),O=a(196),g=a.p+"static/media/logo.31e4f528.png",v=(a(171),function(t){Object(s.a)(a,t);var e=Object(o.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).state={list:[]},n}return Object(c.a)(a,[{key:"getMenuItems",value:function(){return this.state.list.map((function(t){return Object(n.jsx)(b.a.Item,{children:Object(n.jsxs)(u.b,{to:"/".concat(t.id),children:[Object(n.jsx)(O.a,{type:t.icon}),t.title]})},t.id)}))}},{key:"componentDidMount",value:function(){var t=this;m.a.get("http://www.dell-lee.com/react/api/header.json").then((function(e){t.setState({list:e.data.data})}))}},{key:"render",value:function(){return Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)(u.b,{to:"/",children:Object(n.jsx)("img",{src:g,className:"app-header-logo",alt:"log"})}),Object(n.jsx)(b.a,{mode:"horizontal",className:"app-header-menu",children:this.getMenuItems()})]})}}]),a}(r.Component)),f=a(52),w=a(147),y=a(63),x=a(200),k=a(201),C=(a(177),function(t){Object(s.a)(a,t);var e=Object(o.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).state={login:!1,modal:!1,user:"",password:""},n.showModal=n.showModal.bind(Object(f.a)(n)),n.hideModal=n.hideModal.bind(Object(f.a)(n)),n.changeUser=n.changeUser.bind(Object(f.a)(n)),n.changePassword=n.changePassword.bind(Object(f.a)(n)),n.checkLogin=n.checkLogin.bind(Object(f.a)(n)),n.logout=n.logout.bind(Object(f.a)(n)),n}return Object(c.a)(a,[{key:"showModal",value:function(){this.setState({modal:!0})}},{key:"hideModal",value:function(){this.setState({modal:!1})}},{key:"changeUser",value:function(t){this.setState({user:t.target.value})}},{key:"changePassword",value:function(t){this.setState({password:t.target.value})}},{key:"checkLogin",value:function(){var t=this,e=this.state,a=e.user,n=e.password,i="http://www.dell-lee.com/react/api/login.json?user=".concat(a,"&password=").concat(n);m.a.get(i,{withCredentials:!0}).then((function(e){e.data.data.login?(w.b.success("\u767b\u5f55\u6210\u529f"),t.setState({login:!0,modal:!1})):w.b.error("\u767b\u5f55\u5931\u8d25")}))}},{key:"logout",value:function(){var t=this;m.a.get("http://www.dell-lee.com/react/api/logout.json",{withCredentials:!0}).then((function(e){e.data.data.logout&&t.setState({login:!1}),t.props.history.push("/")}))}},{key:"render",value:function(){var t=this.state.login;return Object(n.jsx)(r.Fragment,{children:Object(n.jsxs)("div",{className:"login",children:[t?Object(n.jsx)(y.a,{type:"primary",onClick:this.logout,children:"\u9000\u51fa"}):Object(n.jsx)(y.a,{type:"primary",onClick:this.showModal,children:"\u767b\u5f55"}),Object(n.jsx)(u.b,{to:"/vip",children:Object(n.jsx)(y.a,{type:"primary",style:{marginLeft:10},children:"Vip"})}),Object(n.jsxs)(x.a,{title:"\u767b\u5f55",visible:this.state.modal,onOk:this.checkLogin,onCancel:this.hideModal,children:[Object(n.jsx)(k.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",style:{marginBottom:10},value:this.state.user,onChange:this.changeUser}),Object(n.jsx)(k.a,{type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",value:this.state.password,onChange:this.changePassword})]})]})})}},{key:"componentDidMount",value:function(){var t=this;m.a.get("http://www.dell-lee.com/react/api/isLogin.json",{withCredentials:!0}).then((function(e){var a=e.data.data.login;t.setState({login:a})}))}}]),a}(r.Component)),M=Object(j.g)(C),S=a(198),N=function(t){Object(s.a)(a,t);var e=Object(o.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).state={data:[]},n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(t){var e=this,a=t.match.params.id;m.a.get("http://www.dell-lee.com/react/api/list.json?id="+a).then((function(t){e.setState({data:t.data.data})}))}}]),Object(c.a)(a,[{key:"render",value:function(){return Object(n.jsx)(S.b,{style:{background:"#fff"},size:"large",bordered:!0,dataSource:this.state.data,renderItem:function(t){return Object(n.jsx)(S.b.Item,{children:Object(n.jsx)(u.b,{to:"/detail/".concat(t.id),children:t.title})})}})}},{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.id,a="http://www.dell-lee.com/react/api/list.json";e&&(a=a+"?id="+e),m.a.get(a).then((function(e){t.setState({data:e.data.data})}))}}]),a}(r.Component),I=a(197),L=(a(186),function(t){Object(s.a)(a,t);var e=Object(o.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).state={title:"title",content:"content"},n}return Object(c.a)(a,[{key:"render",value:function(){return Object(n.jsx)(r.Fragment,{children:Object(n.jsx)(I.a,{title:this.state.title,children:Object(n.jsx)("div",{className:"detail",dangerouslySetInnerHTML:{__html:this.state.content}})})})}},{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.id;m.a.get("http://www.dell-lee.com/react/api/detail.json?id="+e).then((function(e){var a=e.data.data;console.log(a),t.setState(a)}))}}]),a}(r.Component)),F=(a(187),function(t){Object(s.a)(a,t);var e=Object(o.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).state={login:!0,fetchFinish:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return this.state.login?this.state.fetchFinish?Object(n.jsx)("div",{className:"vip",children:"1111"}):Object(n.jsx)("div",{className:"vip",children:"\u8bf7\u5148\u767b\u5f55..."}):Object(n.jsx)(j.a,{to:"/"})}},{key:"componentDidMount",value:function(){var t=this;m.a.get("http://www.dell-lee.com/react/api/isLogin.json",{withCredentials:!0}).then((function(e){var a=e.data.data.login;t.setState({login:a,fetchFinish:!0})}))}}]),a}(r.Component)),P=(a(188),h.a.Header),D=h.a.Footer,U=h.a.Content,R=function(t){Object(s.a)(a,t);var e=Object(o.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(n.jsx)(u.a,{children:Object(n.jsxs)(h.a,{style:{minWidth:1300,height:"100%"},children:[Object(n.jsx)(P,{className:"header",children:Object(n.jsx)(v,{})}),Object(n.jsxs)(U,{className:"content",children:[Object(n.jsx)(M,{}),Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{path:"/Vip",component:F}),Object(n.jsx)(j.b,{path:"/detail/:id",component:L}),Object(n.jsx)(j.b,{path:"/:id?",component:N})]})]}),Object(n.jsx)(D,{className:"footer",children:"Copyright \xa9 2021 imooc.com All Rights Reserved | \u4eacICP\u5907 12003892\u53f7-11"})]})})}}]),a}(r.Component);d.a.render(Object(n.jsx)(R,{}),document.getElementById("root"))}},[[189,1,2]]]);
//# sourceMappingURL=main.5dabc40c.chunk.js.map